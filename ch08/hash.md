## 8장. 계층형 설계 I

소프트웨어 설계 : 코드 만들고, 테스트하고, 유지보수 하기 쉬운 방법 선택하기 위함.

계층형 설계란?? 계층으로 구성. 각 계층의 함수는 바로 아래 계층에 있는 함수를 이용해 정의.

### 계층형 설계를 위한 입/출력

- 입력 : 함수 본문(길이, 복잡성, 구체화 단계 등), 계층 구조(응집도, 화살표 길이), 함수 시그니처(함수명, 인자이름, 인자값, 리턴값)
- 출력 : 조직화(새 함수 어디에 넣을지, 함수이동), 구현(함수 추출, 데이터구조 바꾸기 ..), 변경(새 코드 작성 선택, 구체화단계 결정)

### 계층형 설계 패턴

1. 직접 구현
2. 추상화 벽
3. 작은 인터페이스
4. 편리한 계층

### 직접 구현

호출 그래프를 만들어 함수 호출 시각화

다이어그램

반복문, 배열 인덱스 참조 등은 다른 함수들과 다르게, 언어 제공 기능이기때문에 추상화 수준이 낮음! → 직접 구현함수로 만들자!

다이어그램을 그리면 좋은 커뮤니케이션 도구가 됨.

함수 추가하려면??

어떤 계층에 놓을까 고민하자.

같은 박스를 가리킨다는 것은 같은 계층에 있어도 좋다는 정보!

반드시 필요한 것! 모든 함수가 그래프에 있어야 하고, 함수 안에서 다른 함수 호출하면 표시되어야 하고, 화살표는 반드시 아래를 향해야함!!!!

그리고 같은 계층의 함수는 같은 목적을 가져야함.

줌 레벨(계층 사이의 상화관계, 특정 계층의 구현, 특정 함수의 구현! 에서 문제르 찾기 위함.)

전역 > 계층> 함수 줌 레벨

모든 화살표가 같은 길이를 가져야 함.

즉, 계층 여러개를 뛰어넘지 않도록 함.

배열 인덱스를 직접 참조하는 것의 장점 : 배열 편하게 쓸 수 있음.

배열 인덱스로 참조하지 않는 것의 장점 :솔직히 말해서 언어에서 제공해주는 기능이기 때문에 딱히.,..? 좋다는 느낌을 받지 않았다. 오히려 코드만 더 길어지고,, 이 부분을 굳이 빼는 이유가 뭘까? 전혀 모르겠음..
