# 17. 타임라인 조율하기

## 📝 핵심 내용

- 좋은 타임라인의 원칙 5가지 => 타임라인 잘 사용하는 법

  - 1. 타임라인은 적을수록 이해하기 쉽다. => 타임라인 수를 줄인다.
  - 2. 타임라인을 짧을수록 이해하기 쉽다. => 타임라인 길이를 줄인다. (액션을 계산으로 바꾸기)
  - 3. 공유하는 자원이 적을수록 이해하기 쉽다. => 공유 자원을 없앤다.
  - 4. 자원을 공유해야 한다면 서로 조율해야 한다. => 동시성 기본형으로 자원을 공유한다.
  - 5. 시간을 일급으로 다룬다. => 동시성 기본형으로 조율한다. (액션의 순서나 반복을 제한하기)

- 타임라인을 최적화하기 위해서는 비동기 작업을 직렬이 아니라 병렬적으로 실행9해야 한다.
  - 모든 병렬 콜백을 기다리기 위해 '컷'을 사용할 수 있다. (또는 `Promise.all()` 사용 가능!)
    - 컷은 모든 타임라인의 작업이 끝날 때까지 기다렸다가 새로운 타임라인을 시작할 수 있도록 하는 동시성 기본형!
  ```js
  function Cut(num, callback) {
    let numFinished = 0;
    return function () {
      numFinished += 1;
      if (numFinished === num) {
        callback();
      }
    };
  }
  ```
- 함수형 개발자는 필요한 실행 방식에 가깝게 새로운 시간 모델을 만든다. (비동기 콜백을 사용할 때 새로운 타임라인을 만들지 않기 위해 큐를 만들거나, 여러 번 호출해도 한 번만 실행하는 액션을 만들기 위해 JustOnce 기본형을 만들거나)
  - 시간을 다룬다는 것은 순서와 반복을 제어한다는 것이다!

## ❣️ 느낀 점

- 시간을 일급값으로 다룬다는 것, 순서와 반복을 제한하여 실행 흐름을 제어한다는 것이 흥미로웠다.
- (495p.) "(사용자 경험을 나쁘게 만드는 선택을 하지 않기 위해) 선택한 것이 항상 고려외어야 한다면 복잡성은 피할 수 없을지도 모릅니다. 그래서 우리에게는 복잡성을 다룰 수 있는 좋은 프로그래밍 기술이 필요합니다." 라는 구절이 인상깊었다. 계산과 액션중에 계산이 더 좋지만, 프로그래밍의 목적을 이루기 위해서 액션은 필연적이다. 따라서 우리는 액션을 작고 이해하기 쉽게 만들어 잘 다루어야 한다. 복잡한 구조도 마찬가지로 좋은 서비스를 만들기 위해서는 필연적이다. 그러므로 우리는 구조를 잘 쪼개고 추상화하는 노력이 필요하다.

## 🤔 궁금한 점 & 더 생각해볼 점

## 🚀 적용해본 점
