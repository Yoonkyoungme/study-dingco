# 15. 타임라인 격리하기

## 📝 핵심 내용

- 타임라인은 시간에 따른 액션의 순서이며, 여러 개의 타임라인이 동시에 실행되기도 한다.
- 타임라인 다이어그램은 시간에 따른 액션 순서를 시작적으로 표시한 것이다.

  - 규칙1. 두 액션이 순서대로 나타나면 같은 타임라인에 넣는다.
  - 규칙2. 두 액션이 동시에 실행되거나 실행순서를 예상할 수 없다면 분리된 타임라인에 넣는다.
    - 비동기는 무조건 새로운 타임라인에 넣는다.
  - 다이어그램 그리기: 액션 확인 => 각 액션 그리기 => 단순화
    - 단순화 1. 하나의 타임라인에 있는 모든 액션을 하나로 통합(한 박스에 같이 담기)
    - 단순화 2. 타임라인이 끝나는 곳에서 새로운 타임라인이 하나만 생긴다면 통합

- 서로 다른 타임라인에 있는 액션은 여러 개의 실행 가능한 순서가 생기고, 실행 가능한 순서가 많으면 코드가 항상 올바른 결과를 내는지 알기 어렵다.
  - 실행 순서를 제어해야 한다..! 비동기 호출에서 콜백을 사용하여 실행 순서 제어할 수 있다.
- 자원을 공유하는 타임라인은 문제가 생길 수 있다.

  - 공유하는 자원을 없애 문제 해결 가능! (전역변수를 지역변수 또는 인자로 바꾸기)

- 좋은 타임라인의 원칙 5가지
  - 1. 타임라인은 적을수록 이해하기 쉽다.
  - 2. 타임라인을 짧을수록 이해하기 쉽다.
  - 3. 공유하는 자원이 적을수록 이해하기 쉽다.
  - 4. 자원을 공유해야 한다면 서로 조율해야 한다.
  - 5. 시간을 일급으로 다룬다.

## ❣️ 느낀 점

- 이전에 함수 호출 그래프도 그렇고, 타임라인 다이어그램도 그렇고, 코드의 흐름을 시각적으로 한 눈에 볼 수 있도록 하는 도구를 이용하여 문제를 찾거나 해결하는 방식이 도움이 되는 것 같다.
- 비동기 작업(백엔드와의 통신)이 들어오면서 타임라인 관리가 절실하게 필요하다는 생각이 들었다. 절차적 코드를 많이 사용해서인지 위에 쓰면 무조건 먼저 실행될 것이라는 착각을 하기 쉬운 것 같다.
- promise, await/async 가 있어서 참 감사하다는 생각이 들었다.

## 🤔 궁금한 점 & 더 생각해볼 점

- 같이 장바구니 미션의 타임라인을 그려봅시다!

## 🚀 적용해본 점
